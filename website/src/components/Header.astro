---
import type { Lang } from '../i18n/config';
import { STRINGS } from '../i18n/strings';
import LanguageSwitcher from './LanguageSwitcher.astro';

type Props = { lang: Lang; pathname: string };
const { lang, pathname } = Astro.props;
const s = STRINGS[lang];

const basePath = `/${lang}/`;
const nav = [
	{ href: basePath, label: s.nav.home },
	{ href: `${basePath}app/`, label: s.nav.app },
	{ href: `${basePath}evidence/`, label: s.nav.evidence },
	{ href: `${basePath}faq/`, label: s.nav.faq },
	{ href: `${basePath}support/`, label: s.nav.support },
];
---

<header class="border-b border-slate-200/70 bg-white/70 backdrop-blur">
	<div class="mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-4 sm:px-6 lg:px-8">
		<a href={basePath} class="flex items-center gap-3">
			<img src="/img/logo-400w.webp" width="40" height="40" alt="Pelvisana" class="h-10 w-10" loading="eager" />
			<span class="text-base font-semibold tracking-tight">{s.siteName}</span>
		</a>

		<nav aria-label="Primary" class="hidden items-center gap-6 md:flex">
			{nav.map((item) => {
				const isActive = pathname === item.href;
				return (
					<a
						href={item.href}
						class:list={[
							'text-sm font-medium text-slate-700 hover:text-slate-950',
							isActive && 'text-slate-950',
						]}
					>
						{item.label}
					</a>
				);
			})}
		</nav>

		<div class="flex items-center gap-3">
			<LanguageSwitcher lang={lang} pathname={pathname} />
			<a
				href={`${basePath}support/`}
				class="hidden rounded-full bg-ink-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-ink-700 sm:inline-flex"
			>
				{s.cta.contact}
			</a>
		</div>
	</div>
</header>

