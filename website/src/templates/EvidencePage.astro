---
import BaseLayout from '../layouts/BaseLayout.astro';
import { STRINGS } from '../i18n/strings';
import type { Lang } from '../i18n/config';

import EvidenceEn from '../content/evidence/en.mdx';
import EvidenceEs from '../content/evidence/es.mdx';
import EvidenceCa from '../content/evidence/ca.mdx';

type Props = { lang: Lang };
const { lang } = Astro.props;
const s = STRINGS[lang];
const pathname = `/${lang}/evidence/`;

const ContentByLang = { en: EvidenceEn, es: EvidenceEs, ca: EvidenceCa } satisfies Record<Lang, unknown>;
const Content = ContentByLang[lang] as any;
---

<BaseLayout lang={lang} pathname={pathname} title={`${s.evidence.title} â€” ${s.siteName}`} description={s.evidence.description}>
	<header class="space-y-3">
		<h1 class="text-4xl font-semibold tracking-tight text-slate-950 dark:text-white">{s.evidence.title}</h1>
		<p class="max-w-3xl text-pretty text-lg text-slate-700 dark:text-slate-300">{s.evidence.description}</p>
	</header>

	<section class="mt-6 grid gap-4 md:grid-cols-3">
		<div class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900/40">
			<div class="text-sm font-semibold text-slate-950 dark:text-white">{s.evidenceUi.highlights.guidelinesTitle}</div>
			<p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{s.evidenceUi.highlights.guidelinesBody}</p>
		</div>
		<div class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900/40">
			<div class="text-sm font-semibold text-slate-950 dark:text-white">{s.evidenceUi.highlights.techniqueTitle}</div>
			<p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{s.evidenceUi.highlights.techniqueBody}</p>
		</div>
		<div class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm dark:border-slate-800 dark:bg-slate-900/40">
			<div class="text-sm font-semibold text-slate-950 dark:text-white">{s.evidenceUi.highlights.safetyTitle}</div>
			<p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{s.evidenceUi.highlights.safetyBody}</p>
		</div>
	</section>

	<section class="prose prose-slate mt-8 max-w-none prose-a:text-ink-700 prose-a:no-underline hover:prose-a:underline prose-strong:text-slate-950 dark:prose-invert dark:prose-a:text-ink-200">
		<Content />
	</section>

	<section class="mt-10">
		<h2 class="text-xl font-semibold tracking-tight text-slate-950 dark:text-white">{s.evidenceUi.sourcesTitle}</h2>
		<div class="mt-4 grid gap-3">
			{s.evidenceUi.sources.map((source) => (
				<a
					href={source.url}
					target="_blank"
					rel="noopener noreferrer"
					class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition hover:border-slate-300 dark:border-slate-800 dark:bg-slate-900/40 dark:hover:border-slate-700"
				>
					<div class="text-sm font-semibold text-slate-950 dark:text-white">{source.name}</div>
					<p class="mt-2 text-sm text-slate-700 dark:text-slate-300">{source.note}</p>
					<p class="mt-3 text-xs text-slate-500 dark:text-slate-400">{source.url}</p>
				</a>
			))}
		</div>
	</section>
</BaseLayout>
