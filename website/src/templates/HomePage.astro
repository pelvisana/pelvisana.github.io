---
import BaseLayout from '../layouts/BaseLayout.astro';
import StoreBadges from '../components/StoreBadges.astro';
import ScreenshotGallery from '../components/ScreenshotGallery.astro';
import { STRINGS } from '../i18n/strings';
import type { Lang } from '../i18n/config';

type Props = { lang: Lang };
const { lang } = Astro.props;
const s = STRINGS[lang];
const pathname = `/${lang}/`;

const screenshots = [
	{
		title: s.media.screenshots.videos,
		src360: '/img/screenshots/2025-12-16-at-17.14.22-360w.webp',
		src540: '/img/screenshots/2025-12-16-at-17.14.22-540w.webp',
		src720: '/img/screenshots/2025-12-16-at-17.14.22-720w.webp',
	},
	{
		title: s.media.screenshots.calendar,
		src360: '/img/screenshots/2025-12-16-at-17.14.39-360w.webp',
		src540: '/img/screenshots/2025-12-16-at-17.14.39-540w.webp',
		src720: '/img/screenshots/2025-12-16-at-17.14.39-720w.webp',
	},
	{
		title: s.media.screenshots.evaluation,
		src360: '/img/screenshots/2025-12-16-at-17.14.44-360w.webp',
		src540: '/img/screenshots/2025-12-16-at-17.14.44-540w.webp',
		src720: '/img/screenshots/2025-12-16-at-17.14.44-720w.webp',
	},
	{
		title: s.media.screenshots.bibliography,
		src360: '/img/screenshots/2025-12-16-at-17.14.48-360w.webp',
		src540: '/img/screenshots/2025-12-16-at-17.14.48-540w.webp',
		src720: '/img/screenshots/2025-12-16-at-17.14.48-720w.webp',
	},
];
---

<BaseLayout lang={lang} pathname={pathname} title={`${s.siteName} â€” ${s.tagline}`} description={s.home.description}>
	<section class="relative overflow-hidden rounded-3xl border border-slate-200 bg-gradient-to-br from-ink-50 via-white to-white px-6 py-12 sm:px-10">
		<div class="grid gap-10 lg:grid-cols-[1.2fr_0.8fr] lg:items-center">
			<div class="space-y-6">
				<p class="inline-flex items-center rounded-full bg-white/70 px-3 py-1 text-xs font-semibold text-ink-800 ring-1 ring-ink-200">
					{s.tagline}
				</p>
				<h1 class="text-balance text-4xl font-semibold tracking-tight text-slate-950 sm:text-5xl">
					{s.home.title}
				</h1>
				<p class="max-w-2xl text-pretty text-lg leading-relaxed text-slate-700">
					{s.home.description}
				</p>
				<div class="flex flex-wrap gap-3">
					<a
						href={`/${lang}/evidence/`}
						class="inline-flex items-center justify-center rounded-full bg-ink-600 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:bg-ink-700"
					>
						{s.home.primaryCta}
					</a>
					<a
						href={`/${lang}/app/`}
						class="inline-flex items-center justify-center rounded-full border border-slate-300 bg-white px-5 py-3 text-sm font-semibold text-slate-900 hover:bg-slate-50"
					>
						{s.home.secondaryCta}
					</a>
				</div>

				<div class="pt-2">
					<StoreBadges lang={lang} />
				</div>
			</div>

			<div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
				<div class="flex items-center gap-3">
					<img src="/img/logo-400w.webp" width="44" height="44" alt="" class="h-11 w-11" loading="lazy" />
					<div>
						<div class="text-sm font-semibold text-slate-950">{s.siteName}</div>
						<div class="text-sm text-slate-600">{s.tagline}</div>
					</div>
				</div>
				<div class="mt-6 space-y-3 text-sm text-slate-700">
					<p class="font-medium">{s.home.sections.what.title}</p>
					<p>{s.home.sections.what.body}</p>
				</div>
			</div>
		</div>
	</section>

	<section class="mt-12">
		<h2 class="text-2xl font-semibold tracking-tight text-slate-950">{s.home.sections.download.title}</h2>
		<p class="mt-3 max-w-3xl text-sm leading-relaxed text-slate-700">{s.home.sections.download.body}</p>
		<ScreenshotGallery items={screenshots} />
	</section>

	<section class="mt-12">
		<h2 class="text-2xl font-semibold tracking-tight text-slate-950">{s.home.sections.why.title}</h2>
		<div class="mt-6 grid gap-4 md:grid-cols-3">
			{s.home.sections.why.items.map((item) => (
				<div class="rounded-2xl border border-slate-200 bg-white p-5 shadow-sm">
					<div class="text-sm font-semibold text-slate-950">{item.title}</div>
					<p class="mt-2 text-sm leading-relaxed text-slate-700">{item.body}</p>
				</div>
			))}
		</div>
	</section>

	<section class="mt-12 rounded-3xl border border-slate-200 bg-slate-50 px-6 py-10 sm:px-10">
		<h2 class="text-2xl font-semibold tracking-tight text-slate-950">{s.home.sections.evidence.title}</h2>
		<p class="mt-3 max-w-3xl text-sm leading-relaxed text-slate-700">{s.home.sections.evidence.body}</p>
		<div class="mt-6">
			<a
				href={`/${lang}/evidence/`}
				class="inline-flex items-center justify-center rounded-full bg-ink-600 px-5 py-3 text-sm font-semibold text-white shadow-sm hover:bg-ink-700"
			>
				{s.home.sections.evidence.cta}
			</a>
		</div>
	</section>

	<section class="mt-12">
		<div class="rounded-2xl border border-amber-200 bg-amber-50 px-5 py-4 text-sm text-amber-950">
			<div class="font-semibold">{s.home.sections.safety.title}</div>
			<p class="mt-2 leading-relaxed">{s.home.sections.safety.body}</p>
		</div>
	</section>
</BaseLayout>
